{"version":3,"sources":["../src/multi-calendar.js"],"names":["DJDCalendar","targetEl","configurationObj","replaceByEmptyCopy","el","newTagName","parentNode","attrName","attrValue","i","newEl","document","createElement","tagName","elAttributes","attributes","length","nodeName","getAttribute","setAttribute","insertBefore","remove","getToggleWeekendText","$","cookie","toggleWeekend","showWeekends","location","reload","setWeekPickerDate","newDate","$weekpicker","oldDateStr","val","format","match","newDateStr","moment","setURLDate","date","hash","setAllCalendarsDate","domEvent","CustomEvent","detail","dispatchEvent","setStartDate","loadServerDataIntoCalendar","start","end","uid","callback","eventLoader","getEvents","then","loadedData","setEventTitle","event","id","eventTitleEl","querySelector","newEventTitleEl","innerHTML","title","tooltip","createAdjustCalendarHeightFunction","calendarEl","blockNextExecution","minimumBottomPadding","eventElement","eventElementHeight","clientHeight","calculatedHeight","height","Math","max","fullCalendar","parent","prev","css","not","container","placement","on","viewRenderHandler","view","initFullCalendar","eventClick","controllerCalendar","defaultDate","dataset","$calendar","controlBtns","left","center","right","addEventListener","e","weekends","header","defaultView","editable","droppable","firstDay","titleFormat","week","columnFormat","year","Date","getFullYear","month","getMonth","getDate","eventAfterAllRender","eventRender","viewRender","undefined","events","listenToWeekpickerChanges","weekpicker","value","weekday","newDateString","valueOf","setDayHeaderClickListener","weekDayHeaderClass","target","classList","contains","nodeList","Array","prototype","slice","call","children","index","indexOf","add","toDate","callbackCreator","parameters","isArray","preventDefault","weekStart","viewEnd","push","apply","createCalendarControlBtns","addClass","refreshBtn","refreshIcon","appendChild","_this","toggleWeekendBtn","innerText","createCalendarsHTML","targetElement","calendarConfig","calendarsArray","frag","createDocumentFragment","boxTitle","boxContent","wrappingRow","wrappingCol","weekPickerRow","weekPickerCol","weekPicker","cal","wrappingUserRow","rowTitle","titleSpan","spanLink","linkIcon","spanEm","description","name","rowCalendar","calendarClass","element","titleClick","createReloadFunction","calendarEls","load","init","Error","config","calendars","console","error","uids","loadUrl","dayHeaderClick","setupStickyHeader","autoReload","click","toggleStaff","this","arguments","pUids","pLoadURL","initialised","loadURL","lastStartDate","lastEndDate","isFetching","Promise","resolve","lastPromise","show","reject","ajax","type","url","dataType","cache","data","success","hide","alert","returnObj","isInCache","autoReloader","timer","activate","setInterval","clearInterval","showStaff","$visible","$header","width","innerWidth","window","throttle","visible","removeClass"],"mappings":"AAUA,QAASA,aAAYC,EAAUC,GAC7B,YAkKA,SAASC,GAAmBC,EAAIC,GAC9B,IAAKD,IAAOA,EAAGE,WAAY,MAAO,KAClC,IAEIC,GACAC,EACAC,EAJAC,EAAQC,SAASC,cAAcP,GAAcD,EAAGS,SAChDC,EAAeV,EAAGW,UAMtB,KAAKN,EAAI,EAAGA,EAAIK,EAAaE,OAAQP,IACnCF,EAAWO,EAAaL,GAAGQ,SAC3BT,EAAYJ,EAAGc,aAAaX,GAC5BG,EAAMS,aAAaZ,EAAUC,EAM/B,OAFAJ,GAAGE,WAAWc,aAAaV,EAAON,GAClCA,EAAGiB,SACIX,EAGT,QAASY,KACP,MAAkC,SAA9BC,EAAEC,OAAO,iBACJ,gBAEA,gBAUX,QAASC,KACP,GAAIC,GAA6C,SAA9BH,EAAEC,OAAO,gBAC5BD,GAAEC,OAAO,iBAAkBE,GAC3BC,SAASC,SAqCX,QAASC,GAAkBC,GACzB,GAAIC,GAAcR,EAAE,kBAChBS,EAAaD,EAAYE,MAGzBC,EAAS,YACTF,GAAWG,MAAM,yBACnBD,EAAS,aAIX,IAAIE,GAAaC,OAAOP,GAASI,OAAOA,EACxCH,GAAYE,IAAIG,GAGlB,QAASE,GAAWC,GAElBZ,SAASa,KAAO,SAAWH,OAAOE,GAAML,OAAO,cAGjD,QAASO,GAAoBF,GAE3B,GAAIG,GAAW,GAAIC,aAAY,0BAC7BC,OAAQL,GAEV5B,UAASkC,cAAcH,GASzB,QAASI,GAAaP,GAIpBV,EAAkBU,GAClBE,EAAoBF,GACpBD,EAAWC,GAqBb,QAASQ,GAA2BC,EAAOC,EAAKC,EAAKC,GAGnDC,EAAYC,UAAUL,EAAOC,GAC1BK,KAAK,SAAUC,GACdJ,EAASI,EAAWL,MAFxBE,SAIS,cAWX,QAASI,GAAcC,EAAOrD,GAExBA,EAAG,KACLA,EAAKA,EAAG,IAGVA,EAAGe,aAAa,KAAM,SAAWsC,EAAMC,IACvCtD,EAAGqD,MAAQA,CAIX,IAAIE,GAAevD,EAAGwD,cAAc,mBAChCC,EAAkB1D,EAAmBwD,EAAc,MAOvD,OANAE,GAAgBC,UAAYL,EAAMM,MAE9BN,EAAMO,SACR5D,EAAGe,aAAa,QAASsC,EAAMO,SAG1B5D,EAaT,QAAS6D,GAAmCC,GAC1C,MAAQ,YAEN,GAAIC,IAAqB,CAGzB,OAAO,YAML,GADAA,GAAsBA,EACtB,CAKA,GAAIC,GAAuB,GACvBC,EAAeH,EAAWN,cAAc,mBACxCU,EAAqBD,EAAaE,aAClCC,EAAmBF,EAAqBF,EACxCK,EAASC,KAAKC,IAAIH,EAAkB,IAGxCjD,GAAE2C,GAAYU,aAAa,SAAU,gBAAiBH,GAGtDlD,EAAE2C,GAAYW,SAASC,OAAOC,IAAI,SAAUN,GAG5ClD,EAAE,aACCyD,IAAI,+CACJhB,SAAUiB,UAAW,OAAQC,UAAW,SACxCC,GAAG,kBAAmB,WACrB5D,EAAE,gCAAgCyC,QAAQ,kBAapD,QAASoB,GAAkBC,GACzBvC,EAAauC,EAAKrC,OAWpB,QAASsC,GAAiBpB,EAAYqB,EAAYC,GAChD,GAAIC,GAAc9D,SAASa,KAAKL,MAAM,2BAClCe,EAAMgB,EAAWwB,QAAQxC,IACzByC,EAAYpE,EAAE2C,GACd0B,GACFC,KAAM,kBACNC,OAAQ,QACRC,MAAO,GAITpF,UAASqF,iBAAiB,yBAA0B,SAAUC,GAC5D,GAAInE,GAAUmE,EAAErD,MAChB+C,GAAUf,aAAa,WAAY9C,KAIrC6D,EAAUf,cACRsB,SAAwC,SAA9B3E,EAAEC,OAAO,iBACnB2E,OAAQ,EAAuBP,GAAc,EAC7CQ,YAAa,YACbC,UAAU,EACVC,WAAW,EACXC,SAAU,EACVC,aAAeC,KAAM,2CACrBC,cAAgBD,KAAM,cACtBE,KAAMlB,EAAcA,EAAY,IAAK,GAAImB,OAAOC,cAChDC,MAAOrB,EAAcA,EAAY,GAAK,GAAI,GAAImB,OAAOG,WACrDxE,KAAMkD,EAAcA,EAAY,IAAK,GAAImB,OAAOI,UAGhDzB,WAAYA,EACZ0B,oBAAqBhD,EAAmCC,GACxDgD,YAAa1D,EACb2D,WAAY,EAAuB/B,EAAoBgC,OAGvDC,OAAQ,SAAUrE,EAAOC,EAAKE,GAC5BJ,EAA2BC,EAAOC,EAAKC,EAAKC,MASlD,QAASmE,KACP,GAAIC,GAAa5G,SAASiD,cAAc,iBAExC2D,GAAWvB,iBAAiB,SAAU,WACpC,GAAI9D,GAAS,YACTqF,GAAWC,MAAMrF,MAAM,yBACzBD,EAAS,aAGX,IAAIK,GAAOF,OAAOkF,EAAWC,MAAOtF,GAAQuF,QAAQ,GAChDC,EAAgBnF,EAAKoF,SAEzB7E,GAAa,GAAI8D,MAAKc,MAY1B,QAASE,GAA0B1D,EAAYhB,EAAKC,GAClD,GAAI0E,GAAqB,eACD,mBAAb1E,IAIXe,EAAW8B,iBAAiB,QAAS,SAAUC,GAG7C,GAAKA,EAAE6B,QAAW7B,EAAE6B,OAAOC,WACxB9B,EAAE6B,OAAOC,UAAUC,SAASH,GAD/B,CAOA,GAAII,GAAWC,MAAMC,UAAUC,MAAMC,KAAKpC,EAAE6B,OAAOxH,WAAWgI,UAC1DC,EAAQN,EAASO,QAAQvC,EAAE6B,QAE3BzC,EAAO9D,EAAE2C,GAAYU,aAAa,WAClCrC,EAAOF,OAAOgD,EAAKrC,OAAOyF,IAAIF,EAAO,QAAQG,QACjDvF,GAASZ,EAAMW,EAAK+C,EAAGZ,MACtB,GAaL,QAASsD,GAAgBxF,EAAUe,EAAY0E,GAE7C,MAAwB,kBAAbzF,IAA4Be,GAClCgE,MAAMW,QAAQD,GAIZ,SAAU3C,GACf,GAAIN,GAAYpE,EAAE2C,EAClB,IAAsC,kBAA3ByB,GAAUf,aAArB,CAIAqB,EAAE6C,gBACF,IAAIzD,GAAOM,EAAUf,aAAa,WAC9BmE,EAAY1D,EAAKrC,MACjBgG,EAAU3D,EAAKpC,GACnB2F,GAAWK,KAAKF,GAChBH,EAAWK,KAAKD,GAChB7F,EAAS+F,MAAMjD,EAAE6B,OAAQc,KAjB3B,OA+BF,QAASO,GAA0BjF,GAEjC3C,EAAE,cAAc6H,SAAS,MAGzB,IAAIC,GAAa1I,SAASC,cAAc,QACpC0I,EAAc3I,SAASC,cAAc,IAEzCyI,GAAWtB,UAAUU,IAAI,aACzBY,EAAWtB,UAAUU,IAAI,qBACzBY,EAAWtB,UAAUU,IAAI,oBACzBY,EAAWtB,UAAUU,IAAI,OACzBY,EAAWlI,aAAa,eAAgB,MAExCmI,EAAYvB,UAAUU,IAAI,MAC1Ba,EAAYvB,UAAUU,IAAI,cAE1BY,EAAWE,YAAYD,GACvBD,EAAWrD,iBAAiB,QAAS,WACnCwD,EAAM5H,WAGRsC,EAAWN,cAAc,mBAAmB2F,YAAYF,EAGxD,IAAII,GAAmB9I,SAASC,cAAc,OAC9C6I,GAAiB1B,UAAUU,IAAI,aAC/BgB,EAAiB1B,UAAUU,IAAI,2BAC/BgB,EAAiB1B,UAAUU,IAAI,oBAC/BgB,EAAiB1B,UAAUU,IAAI,mBAC/BgB,EAAiB1B,UAAUU,IAAI,OAC/BgB,EAAiBtI,aAAa,eAAgB,MAC9CsI,EAAiBC,UAAYpI,IAE7BmI,EAAiBzD,iBAAiB,QAAS,WACzCvE,MAGFyC,EAAWN,cAAc,oBAAoB2F,YAAYE,GAY3D,QAASE,GAAoBC,EAAeC,GAC1C,GAAIC,MACAC,EAAOpJ,SAASqJ,yBAIhB/E,EAAYtE,SAASC,cAAc,MACvCqE,GAAU8C,UAAUU,IAAI,OACxBsB,EAAKR,YAAYtE,EAEjB,IAAIgF,GAAWtJ,SAASC,cAAc,MACtCqJ,GAASlC,UAAUU,IAAI,aACvBxD,EAAUsE,YAAYU,EAEtB,IAAIC,GAAavJ,SAASC,cAAc,MACxCsJ,GAAWnC,UAAUU,IAAI,eACzBxD,EAAUsE,YAAYW,EAGtB,IAAIC,GAAcxJ,SAASC,cAAc,MACzCuJ,GAAYpC,UAAUU,IAAI,OAC1ByB,EAAWX,YAAYY,EAEvB,IAAIC,GAAczJ,SAASC,cAAc,MACzCwJ,GAAYrC,UAAUU,IAAI,aAC1B2B,EAAYrC,UAAUU,IAAI,aAC1B0B,EAAYZ,YAAYa,EAExB,IAAIC,GAAgB1J,SAASC,cAAc,MAC3CyJ,GAActC,UAAUU,IAAI,OAC5B4B,EAActC,UAAUU,IAAI,QAC5B2B,EAAYb,YAAYc,EAExB,IAAIC,GAAgB3J,SAASC,cAAc,MAC3C0J,GAAcvC,UAAUU,IAAI,YAC5B4B,EAAcd,YAAYe,GAE1BC,EAAa5J,SAASC,cAAc,SACpC2J,EAAWxC,UAAUU,IAAI,gBACzB8B,EAAWpJ,aAAa,OAAQ,QAChCoJ,EAAWpJ,aAAa,KAAM,iBAC9BoJ,EAAW/C,MAAQnF,OAAO,GAAIuE,OAAQ1E,OAAO,cAAcyF,UAC3D2C,EAAcf,YAAYgB,EAI1B,IAAIC,GACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACArK,CACJ,KAAKA,EAAI,EAAGA,EAAIoJ,EAAe7I,OAAQP,IAAK,CAC1C+J,EAAMX,EAAepJ,GAErBgK,EAAkB9J,SAASC,cAAc,OACzC6J,EAAgB1C,UAAUU,IAAI,OAC9B2B,EAAYb,YAAYkB,GAGxBC,EAAW/J,SAASC,cAAc,OAClC8J,EAAS3C,UAAUU,IAAI,YACvBgC,EAAgBlB,YAAYmB,GAE5BC,EAAYhK,SAASC,cAAc,QACnC8J,EAASnB,YAAYoB,GAErBC,EAAWjK,SAASC,cAAc,KAClC+J,EAAUpB,YAAYqB,GAEC,gBAAZJ,GAAItH,MACb2H,EAAWlK,SAASC,cAAc,KAClCiK,EAAS9C,UAAUU,IAAI,MACvBoC,EAAS9C,UAAUU,IAAI,iBACvBmC,EAASrB,YAAYsB,GAEjBL,EAAIO,cACNH,EAASrB,YAAY5I,SAASC,cAAc,OAC5CkK,EAASnK,SAASC,cAAc,MAChCkK,EAAOpB,UAAYc,EAAIO,YACvBH,EAASrB,YAAYuB,KAIzBF,EAASlB,WAAac,EAAIQ,IAG1B,IAAIC,GAActK,SAASC,cAAc,MACzCqK,GAAYlD,UAAUU,IAAI,aAC1BgC,EAAgBlB,YAAY0B,EAE5B,IAAI/G,GAAavD,SAASC,cAAc,MACxCsD,GAAW6D,UAAUU,IAAIyC,GACzBhH,EAAWwB,QAAQxC,IAAMsH,EAAItH,IAC7B+H,EAAY1B,YAAYrF,GACxB2F,EAAepJ,GAAG0K,QAAUjH,EAGE,kBAAnBsG,GAAIY,aACbR,EAASzJ,aAAa,OAAQ,KAC9ByJ,EAAS5E,iBAAiB,QACxB2C,EAAgB6B,EAAIY,WAAYlH,GAAasG,EAAItH,QAIrD4G,EAAerJ,GAAKyD,EAItB,MADA0F,GAAcL,YAAYQ,GACnBD,EAaT,QAASuB,GAAqBC,GAC5B9B,EAAM5H,OAAU,WACdwB,EAAYmI,OAAOjI,KAAK,WACtB,IAAK,GAAI7C,GAAI,EAAGA,EAAI6K,EAAYtK,OAAQP,IACtCc,EAAE+J,EAAY7K,IAAImE,aAAa,oBAMvC,QAAS4G,GAAKvL,EAAUC,GACtB,IAAKD,GAAwC,gBAArBC,GACtB,KAAM,IAAIuL,OAAM,gDAGM,iBAAbxL,KACTA,EAAWU,SAASiD,cAAc3D,GAGpC,IACIQ,GADAiL,EAASxL,EAIToL,EAAc3B,EAAoB1J,EAAUyL,EAAOC,UAEvD,KAAKL,EAEH,WADAM,SAAQC,MAAM,4BAIhBR,GAAqBC,EAErB,IAAIQ,KACJ,KAAKrL,EAAI,EAAGA,EAAIiL,EAAOC,UAAU3K,OAAQP,IACvCqL,EAAK7C,KAAKyC,EAAOC,UAAUlL,GAAGyC,IAIhCE,GAAYoI,KAAKM,EAAMJ,EAAOK,QAE9B,IAAI7H,GACA2F,CACJ,KAAKpJ,EAAI,EAAGA,EAAI6K,EAAYtK,OAAQP,IAClCyD,EAAaoH,EAAY7K,GACzBoJ,EAAiB6B,EAAOC,UAAUlL,GAGlC6E,EAAiBpB,EAAY2F,EAAetE,WAAkB,IAAN9E,GAEX,kBAAlCoJ,GAAemC,gBACxBpE,EAA0B1D,EAAY2F,EAAe3G,IAAK2G,EAAemC,gBAIjE,IAANvL,GACF0I,EAA0BjF,EAK9B+H,KACA3E,IACA4E,GAAW,GAEX3K,EAAE,mBAAmB4K,MAAMC,GA9wB7B,KAAMC,eAAgBrM,cACpB,MAAO,IAAIA,aAAYsM,UAAU,GAAIA,UAAU,GAIjD,IAEIlJ,GACAmH,EAHAW,EAAgB,kBAChB1B,EAAQ6C,IAKZjJ,GAAe,WAUb,QAASoI,GAAKe,EAAOC,GACnBC,GAAc,EACdC,EAAUF,EACVV,EAAOS,EAcT,QAAShB,GAAKvI,EAAOC,GACnB,MAAKwJ,KAAiBzJ,GAAU2J,IAIhC3J,EAAQA,GAAS2J,EACjB1J,EAAMA,GAAO2J,EAKTC,EACKC,QAAQC,QAAQC,IAIzBzL,EAAE,YAAY0L,OACdJ,GAAa,EAEbG,EAAc,GAAIF,SAAQ,SAAUC,EAASG,GAC3C3L,EAAE4L,MACAC,KAAM,OACNC,IAAKX,EACLY,SAAU,OACVC,OAAO,EACPC,MACEtK,IAAK4I,EACL9I,MAAOX,OAAOW,GAAOd,OAAO,KAC5Be,IAAKZ,OAAOY,GAAKf,OAAO,MAE1BuL,QAAS,SAAUD,GAEjB,MADAjM,GAAE,YAAYmM,OACD,OAATF,GACFG,MAAM,8CACNT,IAAO,KAKTP,EAAgB3J,EAChB4J,EAAc3J,EACd4J,GAAa,MACbE,GAAQS,WAxCLV,QAAQI,SAyDnB,QAAS7J,GAAUL,EAAOC,GACxB,GAAI2K,EAEJ,MAAK5K,GAAUA,EAAM2E,SAAY1E,GAAQA,EAAI0E,SAC3C,MAAOmF,SAAQI,QAGjB,IAAIW,EAeJ,OAdIlB,IAAiBC,IACnBiB,EAAalB,EAAchF,YAAc3E,EAAM2E,WAC3CiF,EAAYjF,YAAc1E,EAAI0E,WAGhCkG,EACFD,EAAYd,QAAQC,QAAQC,GACnBA,GACTY,EAAYd,QAAQC,QAAQC,GAC5BzB,EAAKvI,EAAOC,IAEZ2K,EAAYrC,EAAKvI,EAAOC,GAGnB2K,EA1GT,GACIlB,GACAZ,EACAkB,EACAL,EACAC,EALAH,GAAc,EAMdI,GAAa,CAuGjB,QACErB,KAAMA,EACND,KAAMA,EACNlI,UAAWA,KASf,IAAI6I,GAAc,WAGhB,QAAS4B,KACPtE,EAAM5H,SAFR,GAAImM,EAMJ,OAAO,UAAUC,GACXA,EAEFD,EAAQE,YAAYH,EAAc,KAElCI,cAAcH,OA2DhB3B,EAAc,WAChB,GAAI+B,GAAuC,SAA3B5M,EAAEC,OAAO,aACzBD,GAAEC,OAAO,cAAe2M,GACxBxM,SAASC,UAQPqK,EAAoB,WACtB,GAAImC,GAAW7M,EAAE,cACb8M,EAAU9M,EAAE,oBACZ+M,EAAQD,EAAQE,YAEpBC,QAAOxI,iBAAiB,SAAUzE,EAAEkN,SAAS,IAAK,WAC5CL,EAASM,SAAQ,GACnBL,EACGM,YAAY,UACZ5J,IAAI,QAAS,QACqB,WAA5BsJ,EAAQtJ,IAAI,aACrBsJ,EACGjF,SAAS,UACTrE,IAAI,QAASuJ,EAAQ,SA2iB9B9C,GAAKvL,EAAUC,GACfmM,KAAKb,KAAOA","file":"multi-calendar.min.js"}